<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Define translation — DefineTranslation • RstoxData</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Define translation — DefineTranslation"><meta property="og:description" content="This function defines the translation table used as input to TranslateStoxBiotic and similar functions to translate values of one or more columns to new values given by a table or read from a CSV file."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RstoxData</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.2.0-9007</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/imrdata.html">Working with IMR data</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/StoXProject/RstoxData/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Define translation</h1>
    <small class="dont-index">Source: <a href="https://github.com/StoXProject/RstoxData/blob/master/R/DefineAndUpdateVariables.R" class="external-link"><code>R/DefineAndUpdateVariables.R</code></a></small>
    <div class="hidden name"><code>DefineTranslation.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function defines the translation table used as input to <code><a href="TranslateStoxBiotic.html">TranslateStoxBiotic</a></code> and similar functions to translate values of one or more columns to new values given by a table or read from a CSV file.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">DefineTranslation</span><span class="op">(</span></span>
<span>  <span class="va">processData</span>,</span>
<span>  UseProcessData <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  DefinitionMethod <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ResourceFile"</span>, <span class="st">"Table"</span><span class="op">)</span>,</span>
<span>  FileName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  VariableName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Conditional <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ConditionalVariableNames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  TranslationTable <span class="op">=</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ValueColumn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  NewValueColumn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ConditionalValueColumns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-processdata">processData<a class="anchor" aria-label="anchor" href="#arg-processdata"></a></dt>
<dd><p>The current data produced by a previous instance of the function.</p></dd>


<dt id="arg-useprocessdata">UseProcessData<a class="anchor" aria-label="anchor" href="#arg-useprocessdata"></a></dt>
<dd><p>Logical: If TRUE use the existing function output in the process.</p></dd>


<dt id="arg-definitionmethod">DefinitionMethod<a class="anchor" aria-label="anchor" href="#arg-definitionmethod"></a></dt>
<dd><p>Character: A string naming the method to use, one of "ResourceFile", for reading the table from the file given by <code>FileName</code>; and "Table", for defining the <code>TranslationTable</code> directly as an input.</p></dd>


<dt id="arg-filename">FileName<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>The csv file holding a table with the <code>TranslationTable</code>. Required columns are given by <code>ValueColumn</code> and <code>NewValueColumn</code>, and, in the case that Conditional == TRUE, <code>ConditionalValueColumns</code>.</p></dd>


<dt id="arg-variablename">VariableName<a class="anchor" aria-label="anchor" href="#arg-variablename"></a></dt>
<dd><p>The name of the variable to translate. This will be the name of the first column of the TranslationTable when generated from the StoX GUI.</p></dd>


<dt id="arg-conditional">Conditional<a class="anchor" aria-label="anchor" href="#arg-conditional"></a></dt>
<dd><p>Logical: If TRUE condition the translation on values of other variables.</p></dd>


<dt id="arg-conditionalvariablenames">ConditionalVariableNames<a class="anchor" aria-label="anchor" href="#arg-conditionalvariablenames"></a></dt>
<dd><p>The names of the variables to condition the translation on. Must be given if <code>Conditional == TRUE</code>. This will be the name(s) of the third column and onwards of the TranslationTable when generated from the StoX GUI.</p></dd>


<dt id="arg-translationtable">TranslationTable<a class="anchor" aria-label="anchor" href="#arg-translationtable"></a></dt>
<dd><p>A table holding the following columns: The first column holds the values to translate FROM, the second column holds the values to translate TO, and the remaining zero or more columns holds the values for the conditional variables specified in <code>ConditionalVariableNames</code>. I.e., if <code>VariableName</code> = "IndividualAge" and <code>ConditionalVariableNames</code> = "IndividualSex", and the <code>TranslationTable</code> has values 3, 4 and "F" in the first row, female fish at age 3 are translated to age 4. Use NA to translate missing values (shown as "-" in Preview in the StoX GUI, and usually as empty cell in excel). Values in the <code>TranslationTable</code> can be given either as single values or as expressions of functions of the variable specified by the column name. See details of <code>DefineTranslation</code>.</p></dd>


<dt id="arg-valuecolumn-newvaluecolumn">ValueColumn, NewValueColumn<a class="anchor" aria-label="anchor" href="#arg-valuecolumn-newvaluecolumn"></a></dt>
<dd><p>The name of the columns of <code>FileName</code> representing the current values and the values to translate to, respectively.</p></dd>


<dt id="arg-conditionalvaluecolumns">ConditionalValueColumns<a class="anchor" aria-label="anchor" href="#arg-conditionalvaluecolumns"></a></dt>
<dd><p>The names of the columns of <code>FileName</code> representing the conditional values.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A <code><a href="Translation.html">Translation</a></code> object.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The columns of the <code>TranslationTable</code> (except the NewValue column) can be given in one of two ways: (1) A single value or a string to be evaluated and matched using the "%in%" operator, such as "HER" or "c(\"HER\", \"CLU\")"; or (2) a string expressing a function of the variable given by the column name, such as "function(IndividualTotalLength) IndividualTotalLength &gt; 10". When the <code>TranslationnTable</code> is given in the StoX GUI the strings need not be escaped ((1) HER or c("HER", "CLU"); or (2) function(IndividualTotalLength) IndividualTotalLength &gt; 10).</p>
<p>E.g., to set all individuals with missing IndividualMaturity as "Adult" if longer than 10 cm, use <code>function(IndividualMaturity) is.na(IndividualMaturity)</code> in the first column named "IndividualMaturity", <code>Adult</code> in the "NewValue" column, and <code>function(IndividualTotalLength) IndividualTotalLength &gt; 10</code> in the third (conditional) column named "IndividualTotalLength". To translate all IndividualMaturity to a e.g. NA, use <code>function(IndividualMaturity) TRUE</code> in the "IndividualMaturity" column and <code>NA</code> in the "NewValue" column.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="TranslateStoxBiotic.html">TranslateStoxBiotic</a></code>, <code><a href="TranslateStoxAcoustic.html">TranslateStoxAcoustic</a></code>, <code><a href="TranslateBiotic.html">TranslateBiotic</a></code>, <code><a href="TranslateAcoustic.html">TranslateAcoustic</a></code>, <code><a href="TranslateStoxLanding.html">TranslateStoxLanding</a></code>, <code><a href="TranslateLanding.html">TranslateLanding</a></code>, <code><a href="TranslateICESBiotic.html">TranslateICESBiotic</a></code> and <code><a href="TranslateICESAcoustic.html">TranslateICESAcoustic</a></code> for applying the translation.</p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Arne Johannes Holmin, Anthony Hennessey, Charles Abraham Solberg, Sindre Vatnehol, Edvin Fuglebakk, Ibrahim Umar, Espen Johnsen, Norwegian Institute of Marine Research.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

